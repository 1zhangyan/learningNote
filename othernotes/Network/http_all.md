# Http　QA
## 1 你知道Http请求头包含哪些字段？他们有什么作用？
Accept:表示接受资源类型 
Referer:从哪里跳转来的
Accept-Language:接受语言
Accept-Encoding:接受的编码
User-Agent :代理如chrome
Host:主机 可以IP或者域名
Connection:KeepAlive
Cookie:用户信息  

Expires:过期时间   
Cache-Control:缓存保存时间   
If-None-Match:放置Etag根据Etag表示资源,表示该资源存在     
If-Modified-Since:放置Last-Modified,表示资源更改时间,和自己缓存的时间对比      

**KeepAlive**   
在早期的HTTP/1.0中，每次http请求都要创建一个连接，而创建连接的过程需要消耗资源和时间，为了减少资源消耗，缩短响应时间，就需要重用连接。在后来的HTTP/1.0中以及HTTP/1.1中，引入了重用连接的机制，就是在http请求头中加入Connection: keep-alive来告诉对方这个请求响应完成后不要关闭，下一次咱们还用这个请求继续交流。协议规定HTTP/1.0如果想要保持长连接，需要在请求头中加上Connection: keep-alive，而HTTP/1.1默认是支持长连接的，有没有这个请求头都行。 Http1.0不支持长连接,即使发送的报头有keepalive 字段.  

## 2 知道哪些请求方法，POST和GET的区别有哪些？
- **请求方法**  
    - GET    请求指定的页面信息，并返回实体主体。
    - HEAD    类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头
    - POST    向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。
    - PUT    从客户端向服务器传送的数据取代指定的文档的内容。
    - DELETE    请求服务器删除指定的页面。
    - CONNECT    HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。
    - OPTIONS    允许客户端查看服务器的性能。
    - TRACE    回显服务器收到的请求，主要用于测试或诊断。

- **Get和Post的区别**
  - Get 参数放在header,幂等有缓存,参数也会缓存.header和body一起发.
  - Post 参数放在body,不幂等，没有缓存参数没有缓存.先发header响应100再发body.

## 3 了解http的缓存机制吗？和哪些字段关联？  
Expires和Cache-Control都是强缓存相关字段,资源没过期就命中强缓存,返回200   
强缓存没有命中,则向服务器发送请求头带上Etag,没有Etag就看更改时间看是否命中协商缓存,返回304.  
没有命中就返回新的last-modify并返回200.  

## 4 了解哪些状态码  
- 1xx：返回成功  
- 2xx：返回成功 200客户端请求成功  
- 3xx: 重定向 301临时重定向 302永久重定向  304资源未改变
- 4xx：客户端错误，请求有语法错误或者请求无法实现 401BadRequest语法错误 402未授权 403收到请求但是拒绝服务 404找不到资源  
- 5xx：服务器端错误-服务器不能实现合法请求 500 服务器发生不可预知错误 503服务器暂时无法处理请求一会可能恢复  


## 5 http1.1头部阻塞?如何解决?
管线化技术,一次性发送多个request请求,但是会依次接受处理,如果第一个请求被阻塞,后面的请求也会不能发送,http多个请求复用一个TCP连接,每个消息被拆成二进制帧传输,队头不会阻塞后面的.  

## 6 粘包问题（应用层数据）
- 对于定长的数据包，保证每次都按固定的大小读取即可。
- 对于变长的包，可在包头的位置，约定一个包总长度的字段，从而就知道了包的结束位置。
- 对于变长的包，还可以在包和包之间使用明确的分隔符（应用层协议，是我们自己写的，只要保证分隔符不和正文冲突即可）。

## 7 http2新增了哪些功能？
多路复用 二进制分帧 header压缩 服务端推送 https://www.jianshu.com/p/e57ca4fec26f  

## 8 Https 原理？对称加密的密钥除了随机数还有什么生成方法？安全性怎么保证？ca证书怎么校验?
- **https原理**  
验证证书,拿到公钥,加密对称密钥,交换.
- **CA证书的校验**  
证书以证书链的形式组织，在颁发证书的时候首先要有根CA机构颁发的根证书，再由根CA机构颁发一个中级CA机构的证书，最后由中级CA机构颁发具体的SSL证书。  
在验证证书的时候，浏览器会调用系统的证书管理器接口对证书路径中的所有证书一级一级的进行验证，只有路径中所有的证书都是受信的，整个验证的结果才是受信.
公钥包含在数字证书里. 
- **对称密钥生成**  
随机数方法  

## 9 Https可以只用非对称加密吗？或者只是用对称加密吗？
首先，非对称加密的效率比较慢，只适合加密少量的信息，所以不能只用非对称加密。  
其次，使用对称加密的时候，双方要约定密钥，如果服务器使用一套密钥，等于没有使用加密。所以要对不同的连接使用不同的密钥。密钥传输就使用非对称加密，将公钥放在第三方认证机构。