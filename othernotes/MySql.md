# SQL
# 事务(包含锁 MVCC)
- 如何保证原子性？
  Redo日志和undo日志。
# 索引
# 分布式(集群)
- Mysql 读写分离  
  主从架构，主库负责写，从库负责读，主库和从库实时同步。
  从库通过拷贝主库的二进制日志到中继日志中，执行拷贝过来的改变。
- Mysql 主从一致性的保证
  三种同步方式  异步，同步，半同步
  异步，将二进制日志发送后，不管了。
  同步，二进制日志发送后，必须等到所有从库都应用了改变返回结果才认为事务完成。
  半同步，二进制日志发送后，等到至少一个从库发送成功接受日志即可。
- 保证与Redis的一致性？
  场景：C设置key1 value1，C2之后将key1设置为value2，这时候应该怎么改变Redis和数据库？
  先删除redis的值，再改数据库，改完后等待一会再次删除Redis中的键值。双删除策略。
